<!DOCTYPE html>
<html>
<head>
    <title> Pizza Pic </title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="./css/master.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.6.3/angular.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/danialfarid-angular-file-upload/12.2.13/ng-file-upload.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/ng-img-crop/0.3.2/ng-img-crop.js" charset="utf-8"></script>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/ng-img-crop/0.3.2/ng-img-crop.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-img-cropper/1.1.0/angular-img-cropper.min.js" charset="utf-8"></script>
    <script src="./js/picture.js" charset="utf-8"></script>
    <script src="./js/fileupload.js" charset="utf-8"></script>
</head>
<body ng-app="fileupload_app">
    <div ng-controller="ctrl_main">
        <div class="page-header text-center" style="height: 2"> <h1>Filter Simulator</h1> </div>
        <div class="container">
            <div class="row equal">
                <div class="col-sm-6 well">
                    <div class="row">
                        <div class="col-sm-2"></div>
                        <div class="col-sm-8">
                    	    <div class="row">
                                <img id="img2id" class="img-responsive center-block" ng-src="{{img2}}" alt="">
                                <img id="img1id" class="img-responsive center-block" ng-src="{{img1}}" alt="">
                                <div class="btn-group btn-group-justified">
                                    <a herf="#" type="button" class="btn btn-primary">Apple</a>
                                    <a herf="#" type="button" class="btn btn-primary">Sony</a>
                                </div>
                    	    </div>
                        </div>
                    </div>
	                <div class="col-sm-2"></div>
                </div>
                <div class="col-sm-6 well">
                    <pre>{{article}}</pre>
                </div>
            </div>
        </div>
        <!--div class="container">
            <div class="row">
                <div class="row">
                    <div class="col-sm-2"> img1: </div>
                    <div class="col-sm-8"><input type="text" ng-model="img1"></div>
                    <div class="col-sm-2"><input type="number" ng-model="img1width">%</div>
                </div>
                <div class="row">
                    <div class="col-sm-2"> img2: </div>
                    <div class="col-sm-10"><input type="text" ng-model="img2"></div>
                </div>
            </div>
        </div-->
    </div>

    <form name="myForm" ng-controller="ctrl_fileupload">
        <div>Crop Image and Upload</div>
        <button ngf-select ng-model="picFile" accept="image/*">
            Select Picture
        </button>
        <div ngf-drop ng-model="picFile" ngf-pattern="image/*" class="cropArea">
            <!--img-crop image="picFile | ngfDataUrl"
                result-image="croppedDataUrl" ng-init="croppedDataUrl=''">
            </img-crop-->
            <div>
                <div>
                    <canvas width="500" height="300" id="canvas" image-cropper image="picFile | ngfDataUrl" cropped-image="cropper.croppedImage" crop-width="671" crop-height="1024" keep-aspect="true" touch-radius="30" crop-area-bounds="bounds"></canvas>
                </div>
                <div>Cropped Image (Left: {{bounds.left}} Right: {{bounds.right}} Top: {{bounds.top}} Bottom: {{bounds.bottom}})</div>
                <div ng-show="cropper.croppedImage!=null"><img ng-src="{{cropper.croppedImage}}" /></div>
            </div>
        </div>
        <div>
            <img ng-src="{{cropper.croppedImage}}" />
        </div>

        <button ng-click="upload(cropper.croppedImage, picFile.name)">Submit</button>
        <span class="progress" ng-show="progress >= 0">
            <div style="width:{{progress}}%" ng-bind="progress + '%'"></div>
        </span>
        <span ng-show="result">Upload Successful</span>
        <span class="err" ng-show="error_msg">{{error_msg}}</span>
    </form>


</body>
</html>
